<!-- important for responsive design, lets you make pictures responsive -->


<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <title>Gulp</title>


    <!-- for Apple -->
    <!-- found user-scalable=no worked best for full screen auto scaling -->
    <meta name="viewport" content="user-scalable=no, minimal-ui" />
    <!--<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimal-ui" />-->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <!-- <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" /> -->


    <!-- <script type="text/javascript" src="cordova.js"></script> -->

    <script>
        var zon = true; // true for comments from zim code
    </script>
    <script src="js/createjs-2015.11.26.min.js"></script>
    <script src="js/zim_2.6.1.js"></script>
    <script src="assets/blue.js"></script>
    <script src="assets/green.js"></script>
    <script src="assets/purple.js"></script>
    <script src="assets/orange.js"></script>
    <script src="assets/red.js"></script>
    <script src="assets/yellow.js"></script>


    <style>
        body {
            margin: 0px;
            padding: 0px;
            background-color: #000;
            overflow: hidden;
        }

        #myCanvas {
            position: absolute;
            left: 0px;
            top: 0px;
            background-color: #000;
        }

        @font-face {
            font-family: AmaticSC;
            src: url(AmaticSC-Bold.ttf);
        }
    </style>


    <script>
        // SCALING OPTIONS
        // "none"		sets canvas and stage to dimensions and does not scale if window changes
        // "fit"		sets canvas and stage to dimensions and scales to fit inside window size
        // "outside"	sets canvas and stage to dimensions and scales to fit outside window size
        // "full"		sets canvas and stage to window size (canvas is actually set to screen size)
        var scaling = "full"; // full automatically sets width and height to window size
        var width = null;
        var height = null;
        var rollover = !zim.mobile();
        var stage, stageW, stageH;
        var frame = new zim.Frame({
            scaling: scaling,
            width: width,
            height: height,
            rollover: rollover
        });

        zim.OPTIMIZE = true;

        //what is rollover

        frame.on("ready", function() {
            zog("ready from ZIM Frame");
            stage = frame.stage;
            stageW = frame.width;
            stageH = frame.height;

            console.log("hi from ready");

            // go();

            // function go() {
            //
            //
            //     // START PAGE
            //
            //     console.log("go");
            //     startPage = new createjs.Container();
            //     stage.addChild(startPage);

            // var title = new zim.Label("Gulp", "70", "AmaticSC", "white");
            //
            // // http://www.createjs.com/tutorials/Fonts/ why is this not working
            // startPage.addChild(title);
            // title.x = stageW/2;
            // title.y = 300;
            // zim.centerReg(title);



            //     var play = new zim.Label("Play", 40, "AmaticSC", "white");
            //
            //     var pbutton = new zim.Button(200, 75, play, "#f99e1e", "#f7ca18", "white", 4, 3, null, null, 0.5);
            //     startPage.addChild(pbutton);
            //     pbutton.x = stageW/2;
            //     pbutton.y = stageH/2;
            //     pbutton.on("click", start);
            //
            //     zim.centerReg(startPage, stage);
            //
            // }


            //
            // var intro
            //         //add instruction box
            //         function intro(){
            //             //add tutorial/help panes to swipe through (intro and in help button/section)
            //             instructions = new createjs.Container();
            //             stage.addChild(instructions);
            //             var introBack = new createjs.Shape();
            //             instructions.addChild(introBack);
            //             var introTxt = new createjs.Text("Gulp the blobs that make you bigger and stay away from the ones that make you smaller!", stageH*0.03+"px Arial", "white");
            //             // instructTxt.textAlign = "center";
            //             introTxt.lineHeight = (stageH*0.03)*1.2;
            //             instructions.addChild(introTxt);

            // Working

            // addInstruct();
            //
            //             var instructions
            //     		//add instructions panel
            //     		function addInstruct(){
            //     			//add tutorial/help panes to swipe through (intro and in help button/section)
            //     			instructions = new createjs.Container();
            //     			// stage.addChild(instructions);
            //     			var instructBack = new createjs.Shape();
            //     			instructions.addChild(instructBack);
            //     			var instructTxt = new createjs.Text("Gulp the blobs that make you bigger and stay away from the ones that make you smaller!", stageH*0.03+"px AmaticSC", "white");
            //     			// instructTxt.textAlign = "center";
            //     			instructTxt.lineHeight = (stageH*0.03)*1.2;
            //     			instructions.addChild(instructTxt);
            //                     console.log("test");

            //add swipe function
            // haaf.cjsSwipe(instructions);
            // instructions.addEventListener("swipe", function(e){
            // 	console.log(e.swipeX, e.swipeY);
            // 	if(e.swipeX != -1) return;
            // 	ticker = createjs.Ticker.on("tick", stage);
            // 	createjs.Tween.get(instructions).to({x:-stageW}, 700, createjs.Ease.backOut);
            // 	gamePlay = true;
            // });
            // sizeInstruct();
            // }




            start();

            function start() {



                // stage.removeChild(startPage);


                var blobs = new createjs.Container();
                stage.addChild(blobs);



                zim.Ticker.always(stage);
                zim.Ticker.setFPS(30, 30);


                // ADD BLOBS TO STAGE//

                // CURSOR //
                var cursor = new zim.Circle(100, "white", "pink", 10);
                stage.addChild(cursor);
                zim.expand(cursor);
                zim.centerReg(cursor, stage)
                cursor.alpha = .5;
                zim.drag(cursor);


                var num = 8;
                var damping = .02;

                // 3. set up arrays to hold functionality for each object
                var circles = []; // array for all the circles
                var bouncers = []; // array of Bouncer objects to represent desired positions of circles
                var dampingX = []; // arrays to hold the damping objects for the circles (x and y)
                var dampingY = [];
                var colors = ["green", "orange", "blue", "purple", "red", "yellow"];

                // 4. create an optional container for objects so we can hide, move or scale easily
                var holder = new createjs.Container();
                stage.addChild(holder);

                // 5. make a loop to create the objects
                var circle, bouncer, dampX, dampY; // vars used each time we loop
                for(var  i = 0; i < num; i++) {
                    var color = colors[Math.floor(Math.random() * colors.length)];
                    var radius = 35;
                    var stroke = 5;


                    circle = new lib[color]();
                    circle.setBounds(20, 20, 80, 80);
                    circle.alpha = .8;
                    holder.addChild(circle);
                    circles.push(circle);

                    // 6. create a Bouncer for each object to hold calculated desired location
                    bouncer = new Bouncer(stage, 8, 4);
                    bouncers.push(bouncer);

                    circle.x = bouncer.x;
                    circle.y = bouncer.y;

                    // 7. create an x and y Damp for each object to damp towards the desired location
                    // start the damping off at the random x and y given by the bouncer
                    dampX = new zim.Damp(bouncer.x, damping);
                    dampY = new zim.Damp(bouncer.y, damping);
                    dampingX.push(dampX);
                    dampingY.push(dampY);

                }


                // 8. make a function and add it to the zim.Ticker function list
                	// we assign it to a variable in case we want to remove it from the zim.Ticker function list later

                	var move = zim.Ticker.add(
                		function() {
                			var circle, bouncer, dampX, dampY;

                			// 9. loop through the objects and position them to the damped value of the advanced bouncer value
                			for (var i=0; i<num; i++) {
                				circle = circles[i];
                				bouncer = bouncers[i];
                				dampX = dampingX[i];
                				dampY = dampingY[i];
                				bouncer.advance(); // this calculates the next desired location
                				circle.x = dampX.convert(bouncer.x); // this damps the object towards the desired location
                				circle.y = dampY.convert(bouncer.y);
                			}
                		}
                	);



                // HIT FUNCTION //

                function hit (){

                        var bigger = cursor.scaleX * 1.3;
                        var smaller = cursor.scaleX * .7;

                    if (zim.hitTestBounds(cursor, circle)){
                        zim.animate(cursor, {scale: bigger}, 1200, "elasticOut");
                        zim.animate(color, {scale: smaller}, 1200, "elasticOut");

                    }
                }

                // function hit() {


                //
                //     var bigger = cursor.scaleX * 1.3;
                //     var smaller = cursor.scaleX * .7;

                    // RED HIT TEST //
                //     if (zim.hitTestBounds(cursor, red)) {
                //
                //         zim.animate(cursor, {
                //             scale: bigger
                //         }, 1200, "elasticOut");
                //         zim.animate(red, {
                //             scale: smaller
                //         }, 1200, "elasticOut");
                //
                //         stage.removeChild(red);
                //
                //         red.x = -2000;
                //     }
                //
                //     if (zim.hitTestBounds(cursor, red2)) {
                //
                //
                //         zim.animate(cursor, {
                //             scale: bigger
                //         }, 1200, "elasticOut");
                //         zim.animate(red2, {
                //             scale: smaller
                //         }, 1200, "elasticOut");
                //
                //
                //         // setTimeout(function() {
                //         stage.removeChild(red2);
                //
                //         //   }, 500);
                //         red2.x = -2000;
                //     }
                //
                //
                //
                //     //ORANGE HIT TEST //
                //
                //     if (zim.hitTestBounds(cursor, orange)) {
                //
                //
                //         zim.animate(cursor, {
                //             scale: bigger
                //         }, 1200, "elasticOut");
                //         zim.animate(orange, {
                //             scale: smaller
                //         }, 1200, "elasticOut");
                //
                //
                //         // setTimeout(function() {
                //         stage.removeChild(orange);
                //
                //         //   }, 500);
                //
                //         orange.x = -2000;
                //
                //     }
                //
                //     if (zim.hitTestBounds(cursor, orange2)) {
                //
                //         zim.animate(cursor, {
                //             scale: bigger
                //         }, 1200, "elasticOut");
                //         zim.animate(orange2, {
                //             scale: smaller
                //         }, 1200, "elasticOut");
                //
                //         stage.removeChild(orange2);
                //
                //
                //         orange2.x = -2000;
                //
                //     }
                //
                //
                //     // YELLOW HIT TEST //
                //
                //     if (zim.hitTestBounds(cursor, yellow)) {
                //
                //         zim.animate(cursor, {
                //             scale: bigger
                //         }, 1200, "elasticOut");
                //         zim.animate(yellow, {
                //             scale: smaller
                //         }, 1200, "elasticOut");
                //         stage.removeChild(yellow);
                //         yellow.x = -2000;
                //     }
                //
                //
                //
                //     if (zim.hitTestBounds(cursor, yellow2)) {
                //
                //         zim.animate(cursor, {
                //             scale: bigger
                //         }, 1200, "elasticOut");
                //         zim.animate(yellow2, {
                //             scale: smaller
                //         }, 1200, "elasticOut");
                //         stage.removeChild(yellow2);
                //
                //         yellow2.x = -2000;
                //
                //     }
                //
                //
                //
                //     // BLUE HIT TEST //
                //
                //     if (zim.hitTestBounds(cursor, blue)) {
                //
                //         zim.animate(cursor, {
                //             scale: smaller
                //         }, 1200, "elasticOut");
                //         zim.animate(blue, {
                //             scale: bigger
                //         }, 1200, "elasticOut");
                //         stage.removeChild(blue);
                //
                //         blue.x = -2000;
                //
                //     }
                //
                //     if (zim.hitTestBounds(cursor, blue2)) {
                //
                //         zim.animate(cursor, {
                //             scale: smaller
                //         }, 1200, "elasticOut");
                //         zim.animate(blue2, {
                //             scale: bigger
                //         }, 1200, "elasticOut");
                //         stage.removeChild(blue2);
                //
                //
                //         blue2.x = -2000;
                //
                //     }
                //
                //     //PURPLE HIT TEST//
                //
                //
                //     if (zim.hitTestBounds(cursor, purple)) {
                //
                //         zim.animate(cursor, {
                //             scale: smaller
                //         }, 1200, "elasticOut");
                //         zim.animate(purple, {
                //             scale: bigger
                //         }, 1200, "elasticOut");
                //
                //         stage.removeChild(purple);
                //
                //         purple.x = -2000;
                //
                //     }
                //
                //     if (zim.hitTestBounds(cursor, purple2)) {
                //
                //         zim.animate(cursor, {
                //             scale: smaller
                //         }, 1200, "elasticOut");
                //         zim.animate(purple2, {
                //             scale: bigger
                //         }, 1200, "elasticOut");
                //
                //         stage.removeChild(purple2);
                //
                //         purple2.x = -2000;
                //
                //     }
                //
                //     // GREEN HIT TEST //
                //
                //     if (zim.hitTestBounds(cursor, green)) {
                //
                //         zim.animate(cursor, {
                //             scale: smaller
                //         }, 1200, "elasticOut");
                //         zim.animate(green, {
                //             scale: bigger
                //         }, 1200, "elasticOut");
                //
                //         stage.removeChild(green);
                //
                //         green.x = -2000;
                //
                //     }
                //
                //     if (zim.hitTestBounds(cursor, green2)) {
                //
                //         zim.animate(cursor, {
                //             scale: smaller
                //         }, 1200, "elasticOut");
                //         zim.animate(green2, {
                //             scale: bigger
                //         }, 1200, "elasticOut");
                //
                //         stage.removeChild(green2);
                //
                //         green2.x = -2000;
                //
                //     }
                //
                //
                // };

                // zim.Ticker.add(hit);


                // RESIZING //

                // put resizing code in here (scaling="full" only)
                frame.on("resize", function(e) {
                    stageW = frame.width;
                    stageH = frame.height;


                    // zim.scaleTo(red, stage, 12); //percentage
                    // red.x = stageW * .6;
                    // red.y = stageH * .7;
                    //
                    // zim.scaleTo(red2, stage, 10);
                    // red2.x = stageW * .1;
                    // red2.y = stageH * .6;
                    //
                    // zim.scaleTo(green, stage, 10);
                    // green.x = stageW * .8;
                    // green.y = stageH * .5;
                    //
                    // zim.scaleTo(green2, stage, 12);
                    // green2.x = stageW * .8;
                    // green2.y = stageH * .1;
                    //
                    //
                    // zim.scaleTo(blue, stage, 10);
                    // blue.x = stageW * .1;
                    // blue.y = stageH * .5;
                    //
                    // zim.scaleTo(blue2, stage, 10);
                    // blue2.x = stageW * .6;
                    // blue2.y = stageH * .9;
                    //
                    // zim.scaleTo(purple, stage, 15);
                    // purple.x = stageW * .5;
                    // purple.y = stageH * .8;
                    //
                    // zim.scaleTo(purple2, stage, 5);
                    // purple2.x = stageW * .9;
                    // purple2.y = stageH * .3;
                    //
                    // zim.scaleTo(orange, stage, 8);
                    // orange.x = stageW * .5;
                    // orange.y = stageH * .1;
                    //
                    // zim.scaleTo(orange2, stage, 8);
                    // orange2.x = stageW * .3;
                    // orange2.y = stageH * .9;
                    //
                    // zim.scaleTo(yellow, stage, 8);
                    // yellow.x = stageW * .1;
                    // yellow.y = stageH * .7;
                    //
                    // zim.scaleTo(yellow2, stage, 8);
                    // yellow2.x = stageW * .5;
                    // yellow2.y = stageH * .3;
                    //
                    //
                    // zim.scaleTo(cursor, stage, 15);
                    // cursor.x = stageW * .4;
                    // cursor.y = stageH * .2;



                    stage.update();
                }); // end of resizing



                // helper class to position items
                // note the Bouncer would allow registration points to go right to edge of container bounds
                // might want to set the bounds to make the objects appear to bounce off the edges
                // for instance, if the object are circles with their registration points in the middle
                // container.setBounds(circle.width/2, circle.height/2, container.width-circle.width, container.height-circle.height)
                // in this example, because we apply the damping the objects never get time to get to the edge
                // Note: that this code does not actually move the object but rather just keeps track of desired x and y data

                function Bouncer(container, speedMax, speedMin, angleMax, angleMin) {

                    if (zot(container) || !container.getBounds || !container.getBounds()) {
                        zog("Bouncer(): please provide a object with bounds set as first parameter");
                        return;
                    }
                    if (zot(speedMax)) speedMax = .3;
                    if (zot(speedMin)) speedMin = .1;
                    if (zot(angleMax)) angleMax = 360;
                    if (zot(angleMin)) angleMin = 0;
                    var that = this;
                    this.enabled = true;
                    this.speed = zim.rand(speedMin, speedMax, false);
                    this.angle = zim.rand(angleMin, angleMax, false);
                    var b = container.getBounds();
                    this.x = zim.rand(b.x, b.x + b.width);
                    this.y = zim.rand(b.y, b.y + b.height);

                    this.advance = function() {
                        if (!that.enabled) return;
                        b = container.getBounds();
                        that.x += that.speed * Math.sin(that.angle * Math.PI / 180); // degrees to radians
                        that.y += that.speed * Math.cos(that.angle * Math.PI / 180);
                        if (that.x > b.x + b.width) {
                            that.x = b.x + b.width;
                            that.angle = 360 - that.angle;
                        } else if (that.x < b.x) {
                            that.x = b.x;
                            that.angle = 360 - that.angle;
                        }
                        if (that.y > b.y + b.height) {
                            that.y = b.y + b.height;
                            that.angle = 180 - that.angle;
                        } else if (that.y < b.y) {
                            that.y = b.y;
                            that.angle = 180 - that.angle;
                        }
                    }
                }

                //WIN FUNCTION
                //     function win () {
                //         if (stage.removeChild(orange)){
                //              alert("You Win!");
                //         };
                //         // if (zim.hitTestBounds(cursor, orange2)) {
                //         //     alert("You Win!");
                //         // }
                //         zim.Ticker.add(win);
                //
                // };

                stage.update();


                // put orientation change code in here
                frame.on("orientation", function(e) {
                    stage.update();
                }); // end of orientation

                stage.update();


            } //end of start
        }); // end of ready
    </script>

</head>

<body>

</body>

</html>


<!-- splashscreen

resize

instructions -->


<!-- work on win function
animate function -->
<!-- user wins when they get all the cool color ones and miss all the warm color ones -->

<!-- get to the biggest that you can -->

<!-- cursor gets stuck in the top -->
<!-- why is font taking so long to load-->







<!-- set different runtime/lengths for the animations -->

<!-- hit area if the blob is moving -->

<!-- add floating animation -->

<!-- reset thing -->


<!-- TO DO: -->
<!-- instructions pane -->

<!-- This is you:


These are some yummy blobs:
Gulp the blobs to change your size: -->
<!-- Figure out which blobs make you bigger and which ones make you smaller to match the size of the circle in the middle(static circle)

get to a certain size by a certain time (timer runs out)

get all the blobs that make u big by a certain time -->


<!-- splash screen -->
<!-- icon -->


<!-- is there a way to do hit tests on everything at once in a function -->


<!-- icon has to be 2048 x 2048 -->
